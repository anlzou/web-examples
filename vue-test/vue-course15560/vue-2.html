<!--
 * @Date        : 2020-09-07 22:32:57
 * @LastEditors : anlzou
 * @Github      : https://github.com/anlzou
 * @LastEditTime: 2020-09-07 23:30:28
 * @FilePath    : \web-test\vue-test\vue-course15560\vue-2.html
 * @Describe    : 
-->
<!-- 
    vue component
    组件开发
 -->

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>Vue 自定义组件</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="">
    <script src="./assets/node_modules/vue/dist/vue.js"></script>
    <style>
        .bt {
            width: 60px;
            height: 30px;
            font-size: 20px;
        }
    </style>
</head>

<body>
    <!-- 
        1. 自定义组件data应该返回一个函数
        2. 可以在vue对象中使用自定义组件
        3. 全局组件可以使用多次
        4. 由于自定义的组件可以使用多次,data返回的则说明函数内部变量是局部变量(组件之间不会相互影响)
    -->
    <div id="app">
        <button-counter></button-counter>
        <button-counter></button-counter>
    </div>

    <script type="text/javascript">
        //局部变量,只有一份
        var mydata = { count: 0 };

        //自定义组件也是一个Vue对象,因此之前的data,methods,钩子函数都是可用的
        Vue.component('button-counter', {
            data: function () {
                //使用局部变量,多个按钮的count值共享
                return mydata;

                //全局变量,多个按钮的count值不一样
                // return {
                //     count: 0
                // }
            },
            template: '<button class="bt" v-on:click="count++"><b>{{count}}</b></button>'
        })
        // 最后解析,放到最后不然报错
        new Vue({
            el: '#app',
        })
    </script>
</body>

</html>