<!--
 * @Date        : 2020-08-12 15:22:13
 * @LastEditors : anlzou
 * @Github      : https://github.com/anlzou
 * @LastEditTime: 2020-09-08 11:06:08
 * @FilePath    : \web-test\vue-test\vueDemo\vue_16_ajax-axios.html
 * @Describe    : 跨域问题
-->
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>Document</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="">
    <script src="./assets/node_modules/vue/dist/vue.min.js"></script>
    <script src="./assets/node_modules/axios/dist/axios.min.js"></script>
</head>

<body>
    <!-- 
        1
     -->
    <div id="app-1">
        {{info}}
    </div>
    <br>

    <!-- 
        2
     -->
    <div id="app-2">
        <h1>网站列表</h1>
        <div v-for="site in info">
            {{ site.name }}
        </div>
    </div>

    <script>
        // 1
        new Vue({
            el: '#app-1',
            data() {
                return {
                    info: null
                }
            },
            mounted() {
                axios
                    .get('https://www.runoob.com/try/ajax/json_demo.json')
                    .then(response => (this.info = response))
                    .catch(function (error) { // 请求失败处理
                        console.log(error);
                    });
            }
        });

        // 2
        new Vue({
            el: '#app-2',
            data() {
                return {
                    info: null
                }
            },
            mounted() {
                axios
                    .get('https://www.runoob.com/try/ajax/json_demo.json')
                    .then(response => (this.info = response.data.sites))
                    .catch(function (error) { // 请求失败处理
                        console.log(error);
                    });
            }
        });
    </script>
</body>

</html>